webpackJsonp([3],{"+c27":function(t,e){},"10Qn":function(t,e,i){"use strict";var n=i("nsZj"),a=(i.n(n),i("aj2C"));i.n(a)},"K6/9":function(t,e){},LKmo:function(t,e,i){t.exports=i.p+"static/img/noCart.6f2abfe.png"},RIEG:function(t,e,i){"use strict";var n=i("nsZj");i.n(n)},UQoe:function(t,e,i){"use strict";var n=i("AA6R"),a=i.n(n),s=i("o69Z"),o=i("Wxfa"),c=i("RP/J"),l=Object(s.b)("stepper"),r=l[0],u=l[1];function d(t,e){return String(t)===String(e)}e.a=r({props:{value:null,integer:Boolean,disabled:Boolean,inputWidth:[Number,String],buttonSize:[Number,String],asyncChange:Boolean,disableInput:Boolean,decimalLength:Number,min:{type:[Number,String],default:1},max:{type:[Number,String],default:1/0},step:{type:[Number,String],default:1},defaultValue:{type:[Number,String],default:1},showPlus:{type:Boolean,default:!0},showMinus:{type:Boolean,default:!0}},data:function(){var t=Object(s.d)(this.value)?this.value:this.defaultValue,e=this.format(t);return d(e,this.value)||this.$emit("input",e),{currentValue:e}},computed:{minusDisabled:function(){return this.disabled||this.currentValue<=this.min},plusDisabled:function(){return this.disabled||this.currentValue>=this.max},inputStyle:function(){var t={};return this.inputWidth&&(t.width=Object(s.a)(this.inputWidth)),this.buttonSize&&(t.height=Object(s.a)(this.buttonSize)),t},buttonStyle:function(){if(this.buttonSize){var t=Object(s.a)(this.buttonSize);return{width:t,height:t}}}},watch:{value:function(t){d(t,this.currentValue)||(this.currentValue=this.format(t))},currentValue:function(t){this.$emit("input",t),this.$emit("change",t)}},methods:{filter:function(t){return t=String(t).replace(/[^0-9.-]/g,""),this.integer&&-1!==t.indexOf(".")&&(t=t.split(".")[0]),t},format:function(t){return t=""===(t=this.filter(t))?0:+t,t=Math.max(Math.min(this.max,t),this.min),Object(s.d)(this.decimalLength)&&(t=t.toFixed(this.decimalLength)),t},onInput:function(t){var e=t.target.value;if(""!==e){var i=this.filter(e);d(e,i)||(t.target.value=i),this.emitChange(i)}},emitChange:function(t){this.asyncChange?(this.$emit("input",t),this.$emit("change",t)):this.currentValue=t},onChange:function(){var t=this.type;if(this[t+"Disabled"])this.$emit("overlimit",t);else{var e="minus"===t?-this.step:+this.step,i=+this.currentValue+e;Object(s.d)(this.decimalLength)||(i=Math.round(100*i)/100),i=this.format(i),this.emitChange(i),this.$emit(t)}},onFocus:function(t){this.$emit("focus",t)},onBlur:function(t){var e=this.format(t.target.value);t.target.value=e,this.currentValue=e,this.$emit("blur",t),Object(o.a)()},longPressStep:function(){var t=this;this.longPressTimer=setTimeout(function(){t.onChange(t.type),t.longPressStep(t.type)},200)},onTouchStart:function(){var t=this;clearTimeout(this.longPressTimer),this.isLongPress=!1,this.longPressTimer=setTimeout(function(){t.isLongPress=!0,t.onChange(),t.longPressStep()},600)},onTouchEnd:function(t){clearTimeout(this.longPressTimer),this.isLongPress&&Object(c.c)(t)}},render:function(){var t=this,e=arguments[0],i=function(e){return{on:{click:function(){t.type=e,t.onChange()},touchstart:function(){t.type=e,t.onTouchStart(e)},touchend:t.onTouchEnd,touchcancel:t.onTouchEnd}}};return e("div",{class:u()},[e("button",a()([{directives:[{name:"show",value:this.showMinus}],style:this.buttonStyle,class:u("minus",{disabled:this.minusDisabled})},i("minus")])),e("input",{attrs:{type:"number",role:"spinbutton","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":this.currentValue,disabled:this.disabled||this.disableInput},class:u("input"),domProps:{value:this.currentValue},style:this.inputStyle,on:{input:this.onInput,focus:this.onFocus,blur:this.onBlur}}),e("button",a()([{directives:[{name:"show",value:this.showPlus}],style:this.buttonStyle,class:u("plus",{disabled:this.plusDisabled})},i("plus")]))])}})},aj2C:function(t,e){},cZ0s:function(t,e,i){"use strict";var n=i("nsZj"),a=(i.n(n),i("nOtf")),s=(i.n(a),i("+c27"));i.n(s)},dsWl:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("Dd8w"),a=i.n(n),s=(i("eqfM"),i("/QYm")),o=i("bOdI"),c=i.n(o),l=(i("3Lne"),i("SSsa")),r=(i("10Qn"),i("UQoe")),u=(i("k3b4"),i("+2ln")),d=(i("RIEG"),i("zjGD")),h=(i("nsZj"),i("nOtf"),i("skW6"),i("AA6R")),f=i.n(h),m=i("o69Z"),v=i("rhik"),_=Object(m.b)("submit-bar"),p=_[0],g=_[1],b=_[2];function x(t,e,i,n){var a=e.tip,s=e.price,o=e.tipIcon;return t("div",f()([{class:g({"safe-area-inset-bottom":e.safeAreaInsetBottom})},Object(v.b)(n)]),[i.top&&i.top(),function(){if(i.tip||a)return t("div",{class:g("tip")},[o&&t(u.a,{class:g("tip-icon"),attrs:{name:o}}),a&&t("span",{class:g("tip-text")},[a]),i.tip&&i.tip()])}(),t("div",{class:g("bar")},[i.default&&i.default(),function(){if("number"==typeof s){var i=e.currency+" "+(s/100).toFixed(e.decimalLength);return t("div",{class:g("text")},[t("span",[e.label||b("label")]),t("span",{class:g("price")},[i]),e.suffixLabel&&t("span",{class:g("suffix-label")},[e.suffixLabel])])}}(),t(l.a,{attrs:{square:!0,size:"large",type:e.buttonType,loading:e.loading,disabled:e.disabled,text:e.loading?"":e.buttonText},class:g("button"),on:{click:function(){Object(v.a)(n,"submit")}}})])])}x.props={tip:String,label:String,price:Number,tipIcon:String,loading:Boolean,disabled:Boolean,buttonText:String,suffixLabel:String,safeAreaInsetBottom:Boolean,decimalLength:{type:Number,default:2},currency:{type:String,default:"¥"},buttonType:{type:String,default:"danger"}};var C,y=p(x),S=(i("cZ0s"),i("fIxc")),k=(i("ibaI"),i("Ni69")),w=(i("sgvh"),i("zc1Q")),P=(i("YP+l"),i("EA31")),$=(i("zP7x"),i("rD0v")),O=(i("3AsM"),i("7ZPY")),j={name:"",mixins:[],components:(C={},c()(C,O.a.name,O.a),c()(C,$.a.name,$.a),c()(C,P.a.name,P.a),c()(C,w.a.name,w.a),C),props:{},data:function(){return{list:[]}},computed:{},watch:{$route:function(t,e){console.log(t)}},beforeRouteLeave:function(t,e,i){console.log(e),i()},beforeRouteEnter:function(t,e,i){console.log(e),i()},beforeCreate:function(){console.log("给个loading界面 created撤销loading")},created:function(){var t=this;console.log("页面初始化数据加载一般写这里"),this.$http.get("mzyl/public_api/get_hot_product.html",{params:{offset:1,limit:4}}).then(function(e){console.log(e),200==e.data.code&&(t.list=e.data.data)})},mounted:function(){},updated:function(){console.log("页面刷新了")},beforeDestory:function(){console.log("你确认删除XX吗？")},destroyed:function(){console.log("页面跳转了,当前组件已被删除，清空相关内容")},methods:{handleClick:function(t){console.log(t)}}},L={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"div_all templateTwo bg_fff mt_10"},[i("div",{staticClass:"t_noneList"},[t._m(0),t._v(" "),t._m(1),t._v(" "),i("van-grid",{staticClass:"pb_20 fz_14 p-r t_box",attrs:{"column-num":2}},t._l(t.list,function(e,n){return i("van-grid-item",{key:n,attrs:{to:{path:"/goods",query:{id:e.id}}}},[i("img",{staticClass:"t_img",attrs:{src:e.image,alt:""}}),t._v(" "),i("div",{staticClass:"mt_10 onelist-hidden t_width"},[t._v(t._s(e.store_name))]),t._v(" "),i("div",{staticClass:"color_E93323"},[t._v(t._s(e.price))])])}),1)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dis flex_y_center flex-x-center"},[e("img",{staticClass:"c_noCartImg",attrs:{src:i("LKmo"),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dis flex_y_center flex-x-center"},[e("div",{staticClass:"iconfont icon-zhuangshixian t_lefticon"}),this._v(" "),e("div",{staticClass:"t_name fz_14"},[this._v("为你推荐")]),this._v(" "),e("div",{staticClass:"iconfont icon-zhuangshixian t_lefticon rotate_180"})])}]};var D,z=i("VU/8")(j,L,!1,function(t){i("K6/9")},null,null).exports,I=i("NYxO"),T={components:(D={},c()(D,k.a.name,k.a),c()(D,S.a.name,S.a),c()(D,y.name,y),c()(D,d.a.name,d.a),c()(D,u.a.name,u.a),c()(D,r.a.name,r.a),c()(D,l.a.name,l.a),c()(D,"NoneCart",z),D),beforeRouteLeave:function(t,e,i){i()},beforeCreate:function(){console.log("给个loading界面 created撤销loading"),s.a.loading({mask:!1,message:"加载中..."})},data:function(){return{checked:!1,isPageShow:!1,isMage:!0,isShiXiao:!1,attestation:[{des:"100%正品保证"},{des:"所有商品精挑细选"},{des:"售后无忧"}]}},watch:{$route:function(t,e){console.log("监听路由变化")},hanldeDelete:function(t){console.log(t)}},created:function(){var t=this;localStorage.setItem("flagPup",1),this.$http.get("mzyl/auth_api/get_cart_list.html",{params:{version:"V2.0"}}).then(function(e){console.log(e);var i=e.data.data;console.log(i.invalid);var n=i.valid,a=i.invalid;n.forEach(function(t,e,i){t.isAllSelect=!1,t.checkedCartCount=0,t.product.forEach(function(e,i,n){e.checked=!1,e.numSub=!0,e.numAdd=!1,e.store_id=t.store_id})}),t.$store.commit("getShopList",n),t.$store.commit("getInvalidList",a),s.a.clear(),t.isPageShow=!0,console.log(n)}),this.$http.get("mzyl/auth_api/get_cart_num.html",{}).then(function(e){console.log(e),200==e.data.code&&t.$store.commit("getNum",e.data.data)})},destroyed:function(){console.log("页面跳转了,当前组件已被删除，清空相关内容");this.$store.commit("getClearData",[])},computed:a()({},Object(I.c)(["shopListData","totalPrice","invalidListData","isNumData"])),methods:a()({formatPrice:function(t){return t.toFixed(2)},hanldeMage:function(t){this.isMage=!t,console.log(t),console.log("管理")},hanldeShiXiao:function(t){this.isShiXiao=!t},handleOnSubmit:function(t){this.$router.push({path:"/submitOrder",query:{id:t}})},hanldeGoodes:function(t){this.$router.push({path:"/goods",query:{id:t}})}},Object(I.b)(["handleXuZe","hanldeRadio","hanldeChange","hanldeDelete","handleAdd","handleminus","hanldeShiDel","hanldeCollect"]))},N={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.isPageShow,expression:"isPageShow"}],staticClass:"c_cart"},[i("div",{staticClass:"dis flex_y_center c_attestation flex-x-around ptb_10 b_box"},t._l(t.attestation,function(e,n){return i("div",{key:n,staticClass:"dis flex_y_center fz_12"},[i("van-icon",{attrs:{name:"passed"}}),t._v(" "),i("div",{staticClass:"ml_5"},[t._v(t._s(e.des))])],1)}),0),t._v(" "),i("div",{staticClass:"c_num"},[i("div",{staticClass:"color_000 dis flex_y_center c_attestation flex_x_between pall_10 bg_fff"},[i("div",{staticClass:"dis flex_y_center fz_14"},[i("div",[t._v("购物数量")]),t._v(" "),i("div",{staticClass:"ml_5 color_E93323"},[t._v(t._s(t.isNumData))])]),t._v(" "),i("div",{staticClass:"dis flex_y_center fz_14"},[i("div",{staticClass:"ml_5 c_num_guan",on:{click:function(e){return t.hanldeMage(t.isMage)}}},[t._v("管理")])])])]),t._v(" "),t._l(t.shopListData,function(e,n){return 0!=t.shopListData.length?i("div",{key:n,staticClass:"mt_10"},[i("div",{staticClass:"dis flex_y_center fz_14 bg_fff b_box pall_10"},[i("van-checkbox",{attrs:{"checked-color":"#E93323",name:e.store_id},on:{click:function(i){return t.handleXuZe({item:e,isAllSelect:e.isAllSelect})}},model:{value:e.isAllSelect,callback:function(i){t.$set(e,"isAllSelect",i)},expression:"item.isAllSelect"}},[t._v("全选")]),t._v(" "),i("div",{staticClass:"ml_10"},[t._v(t._s(e.name))])],1),t._v(" "),t._l(e.product,function(n,a){return i("van-checkbox",{key:a,staticClass:"card-goods__item p_r",attrs:{"checked-color":"#E93323",name:n.id},on:{click:function(i){return t.hanldeRadio({itemSon:n,store_id:e.store_id,checked:n.checked})}},model:{value:n.checked,callback:function(e){t.$set(n,"checked",e)},expression:"itemSon.checked"}},[i("van-card",{attrs:{title:n.store_name,desc:n.attrInfo?"属性 "+n.attrInfo.suk:"",price:n.price,thumb:n.image}}),t._v(" "),i("div",{staticClass:"p-a card_stepper",on:{click:function(t){t.stopPropagation()}}},[i("van-stepper",{attrs:{max:n.stock,min:"1","disable-input":""},on:{minus:function(e){return t.handleminus(n)},change:function(e){return t.hanldeChange(n)},plus:function(e){return t.handleAdd(n)}},model:{value:n.cart_num,callback:function(e){t.$set(n,"cart_num",e)},expression:"itemSon.cart_num "}})],1),t._v(" "),i("div",{staticClass:"p-a c_jump",on:{click:function(e){return t.hanldeGoodes(n.product_id)}}})],1)})],2):t._e()}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.invalidListData.length,expression:"invalidListData.length!=0"}],staticClass:"c_shiXiao mt_10"},[i("div",{staticClass:"dis flex_y_center flex_x_between fz_14 bg_fff b_box pall_10"},[i("div",{staticClass:"dis flex_y_center",on:{click:function(e){return t.hanldeShiXiao(t.isShiXiao)}}},[i("div",{staticClass:"iconfont",class:t.isShiXiao?"icon-xiangshang":"icon-xiangxia "}),t._v(" "),i("div",{staticClass:"ml_10"},[t._v("失效商品")])]),t._v(" "),i("div",{staticClass:"dis flex_y_center",on:{click:t.hanldeShiDel}},[i("div",{staticClass:"iconfont icon-shanchu1"}),t._v(" "),i("div",{staticClass:"ml_5"},[t._v("清空")])])]),t._v(" "),t._l(t.invalidListData,function(e,n){return i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShiXiao,expression:"isShiXiao"}],key:n},[i("van-card",{attrs:{title:e.store_name,thumb:e.image,tag:"失效",desc:e.attrInfo?"属性 "+e.attrInfo.suk:""}},[i("div",{staticClass:"dis flex_y_center flex_x_between mt_20 colo_aaa",attrs:{slot:"tags"},slot:"tags"},[i("div",[t._v("￥"+t._s(e.price))]),t._v(" "),i("div",[t._v("该商品已失效")])])])],1)})],2),t._v(" "),0==t.shopListData.length&&0==t.invalidListData.length?i("NoneCart"):t._e(),t._v(" "),t.isMage?i("van-submit-bar",{attrs:{"button-text":"立即下单",disabled:0==t.totalPrice.needId.length},on:{submit:function(e){return t.handleOnSubmit(t.totalPrice.needId)}}},[i("div",{staticClass:"c_submit p-r"},[i("div",{staticClass:"c_price"},[i("div",[t._v("总价（不含税）：￥"+t._s(t.formatPrice(t.totalPrice.total)))]),t._v(" "),i("div",[t._v("预估税费：￥"+t._s(""+t.formatPrice(t.totalPrice.totxt)))])])])]):i("van-submit-bar",{staticClass:"c_cancel"},[i("div",{staticClass:"dis flex_y_center flex-x-end plr_10 b_box"},[i("van-button",{attrs:{type:"default",size:"small",round:""},on:{click:function(e){return t.hanldeCollect({cart:"cart"})}}},[t._v("收藏")]),t._v(" "),i("van-button",{staticClass:"ml_10",attrs:{type:"default",size:"small",round:""},on:{click:t.hanldeDelete}},[t._v("删除")])],1)])],2)},staticRenderFns:[]};var V=i("VU/8")(T,N,!1,function(t){i("iC0g")},null,null);e.default=V.exports},fIxc:function(t,e,i){"use strict";var n=i("o69Z"),a=i("Vj2t"),s=Object(n.b)("checkbox"),o=s[0],c=s[1];e.a=o({mixins:[Object(a.a)({bem:c,role:"checkbox",parent:"vanCheckbox"})],computed:{checked:{get:function(){return this.parent?-1!==this.parent.value.indexOf(this.name):this.value},set:function(t){this.parent?this.setParentValue(t):this.$emit("input",t)}}},watch:{value:function(t){this.$emit("change",t)}},methods:{toggle:function(){var t=this,e=!this.checked;clearTimeout(this.toggleTask),this.toggleTask=setTimeout(function(){t.checked=e})},setParentValue:function(t){var e=this.parent,i=e.value.slice();if(t){if(e.max&&i.length>=e.max)return;-1===i.indexOf(this.name)&&(i.push(this.name),e.$emit("input",i))}else{var n=i.indexOf(this.name);-1!==n&&(i.splice(n,1),e.$emit("input",i))}}}})},iC0g:function(t,e){},skW6:function(t,e){},zjGD:function(t,e,i){"use strict";var n=i("o69Z"),a=i("1SJR"),s=Object(n.b)("checkbox-group"),o=s[0],c=s[1];e.a=o({mixins:[Object(a.b)("vanCheckbox")],props:{max:Number,disabled:Boolean,value:{type:Array,default:function(){return[]}}},watch:{value:function(t){this.$emit("change",t)}},render:function(){return(0,arguments[0])("div",{class:c()},[this.slots()])}})}});
//# sourceMappingURL=3.5bebb6f67db546b98390.js.map