webpackJsonp([5],{"+c27":function(t,e){},"8cQr":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("eqfM");var n=i("/QYm"),s=i("bOdI"),a=i.n(s),o=(i("9++/"),i("QhyB")),c=(i("RIEG"),i("zjGD")),l=(i("cZ0s"),i("fIxc")),r=(i("3Lne"),i("SSsa")),d=(i("nsZj"),i("nOtf"),i("hy4/"),i("AA6R")),u=i.n(d),f=i("o69Z"),h=i("rhik"),v=i("V+2B"),m=i("1fWZ"),_=i("Hkar"),g=Object(f.b)("panel"),p=g[0],x=g[1];function b(t,e,i,n){return t(_.a,u()([{class:x(),scopedSlots:{default:function(){return[i.header?i.header():t(m.a,{attrs:{icon:e.icon,label:e.desc,title:e.title,value:e.status,valueClass:x("header-value")},class:x("header")}),t("div",{class:x("content")},[i.default&&i.default()]),i.footer&&t("div",{class:[x("footer"),v.f]},[i.footer()])]}}},Object(h.b)(n,!0)]))}b.props={icon:String,desc:String,title:String,status:String};var k,C=p(b),y=(i("zP7x"),i("rD0v")),$=(i("3AsM"),i("7ZPY")),j={name:"",mixins:[],components:(k={},a()(k,$.a.name,$.a),a()(k,y.a.name,y.a),a()(k,C.name,C),a()(k,r.a.name,r.a),a()(k,l.a.name,l.a),a()(k,c.a.name,c.a),a()(k,o.a.name,o.a),k),props:{},data:function(){return{checked:!0,page:1,limit:100,list:[],loading:!1,finished:!1}},computed:{},watch:{$route:function(t,e){console.log(t)}},beforeRouteLeave:function(t,e,i){console.log(e),i()},beforeRouteEnter:function(t,e,i){console.log(e),i()},beforeCreate:function(){console.log("给个loading界面 created撤销loading"),n.a.loading({mask:!1,message:"加载中..."})},created:function(){console.log("页面初始化数据加载一般写这里"),this.getAddessList(this.page,this.limit),n.a.clear()},mounted:function(){},updated:function(){console.log("页面刷新了")},beforeDestory:function(){console.log("你确认删除XX吗？")},destroyed:function(){console.log("页面跳转了,当前组件已被删除，清空相关内容")},methods:{handleClick:function(t){console.log(t)},handleCheck:function(t,e){t.forEach(function(t){t.is_default=0}),t[e].is_default=1,this.list=t,this.$http.get("mzyl/user_api/set_user_default_address.html",{params:{addressId:t[e].id}}).then(function(t){console.log(t),n.a.success("设置成功")})},handleNewAdd:function(t,e){this.$router.push({name:"addAddress",params:{type:t,id:e}})},handleOnLoad:function(){console.log("44")},handleDelAddess:function(t,e){var i=this;this.$http.get("mzyl/user_api/remove_user_address.html",{params:{addressId:t}}).then(function(t){console.log(t);var s=i.list;s.splice(e,1),i.list=s,n.a.success("删除成功")})},getAddessList:function(t,e){var i=this;this.$http.get("mzyl/user_api/user_address_list.html",{params:{page:t,limit:e}}).then(function(t){if(console.log(t),200==t.data.code){var e=t.data.data;e.forEach(function(t,e,i){var n=""+(i[e].province+i[e].city+i[e].district+i[e].detail);i[e].sumAddess=n}),i.list=e}})}}},O={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"div_all a_all"},[n("div",{staticClass:"a_list fz_14"},[0!=t.list.length?n("van-list",{attrs:{finished:t.finished,"finished-text":"没有可加载的数据了","immediate-check":!1},on:{load:t.handleOnLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,function(e,i){return n("van-panel",{key:i,staticClass:"mt_5",attrs:{title:"收货人: "+e.real_name+" "+e.phone,desc:"收货地址: "+e.sumAddess}},[n("div",{staticClass:"a_center dis flex_y_center flex_x_between"},[n("div",{staticClass:"dis flex_y_center"},[n("van-checkbox",{attrs:{"checked-color":"#E93323"},on:{click:function(e){return t.handleCheck(t.list,i)}},model:{value:1==e.is_default,callback:function(i){t.$set(e,"is_default==1",i)},expression:"item.is_default==1"}},[t._v("设为默认")])],1),t._v(" "),n("div",{staticClass:"dis flex_y_center"},[n("div",{staticClass:"dis flex_y_center ",on:{click:function(i){return t.handleNewAdd("editor",e.id)}}},[n("div",{staticClass:"iconfont icon-bianji"}),t._v(" "),n("div",{staticClass:"ml_5"},[t._v("编辑")])]),t._v(" "),n("div",{staticClass:"dis flex_y_center ml_20",on:{click:function(n){return t.handleDelAddess(e.id,i)}}},[n("div",{staticClass:"iconfont icon-shanchu"}),t._v(" "),n("div",{staticClass:"ml_5"},[t._v("删除")])])])])])}),1):t._e(),t._v(" "),0==t.list.length?n("div",{staticClass:"dis flex-x-center flex_y_center"},[n("img",{staticClass:"a_noAddess",attrs:{src:i("ivpH"),alt:""}})]):t._e()],1),t._v(" "),n("div",{staticClass:"a_btn dis flex_y_center b_box flex-x-around w_all bg_fff"},[n("div",{staticClass:"a_btn_tian fz_14 dis flex_y_center flex-x-center",on:{click:function(e){return t.handleNewAdd("add")}}},[n("div",{staticClass:"iconfont icon-tianjiadizhi"}),t._v(" "),n("div",{staticClass:"ml_5"},[t._v("添加新地址")])]),t._v(" "),t._m(0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"a_btn_dao fz_14 dis flex_y_center flex-x-center"},[e("div",{staticClass:"iconfont icon-weixin2"}),this._v(" "),e("div",{staticClass:"ml_5"},[this._v("导入微信地址")])])}]};var A=i("VU/8")(j,O,!1,function(t){i("GUKA")},null,null);e.default=A.exports},"9++/":function(t,e,i){"use strict";var n=i("nsZj"),s=(i.n(n),i("ZZgd"));i.n(s)},GUKA:function(t,e){},QhyB:function(t,e,i){"use strict";var n=i("o69Z");var s=i("5Fm4"),a=i("JOBW"),o=i("pIDD"),c=Object(n.b)("list"),l=c[0],r=c[1],d=c[2];e.a=l({mixins:[Object(s.a)(function(t){this.scroller||(this.scroller=Object(a.b)(this.$el)),t(this.scroller,"scroll",this.check)})],model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:Number,default:300},direction:{type:String,default:"down"}},mounted:function(){this.immediateCheck&&this.check()},watch:{loading:"check",finished:"check"},methods:{check:function(){var t=this;this.$nextTick(function(){if(!(t.loading||t.finished||t.error)){var e,i,n=t.$el,s=t.scroller,a=t.offset,o=t.direction;if(!((e=s.getBoundingClientRect?s.getBoundingClientRect():{top:0,bottom:s.innerHeight}).bottom-e.top)||(i=n,"none"===window.getComputedStyle(i).display||null===i.offsetParent))return!1;var c=t.$refs.placeholder.getBoundingClientRect();("up"===o?c.top-e.top<=a:c.bottom-e.bottom<=a)&&(t.$emit("input",!0),t.$emit("load"))}})},clickErrorText:function(){this.$emit("update:error",!1),this.check()}},render:function(){var t=arguments[0],e=t("div",{ref:"placeholder",class:r("placeholder")});return t("div",{class:r(),attrs:{role:"feed","aria-busy":this.loading}},["down"===this.direction?this.slots():e,this.loading&&t("div",{class:r("loading"),key:"loading"},[this.slots("loading")||t(o.a,{attrs:{size:"16"}},[this.loadingText||d("loading")])]),this.finished&&this.finishedText&&t("div",{class:r("finished-text")},[this.finishedText]),this.error&&this.errorText&&t("div",{on:{click:this.clickErrorText},class:r("error-text")},[this.errorText]),"up"===this.direction?this.slots():e])}})},RIEG:function(t,e,i){"use strict";var n=i("nsZj");i.n(n)},ZZgd:function(t,e){},cZ0s:function(t,e,i){"use strict";var n=i("nsZj"),s=(i.n(n),i("nOtf")),a=(i.n(s),i("+c27"));i.n(a)},fIxc:function(t,e,i){"use strict";var n=i("o69Z"),s=i("Vj2t"),a=Object(n.b)("checkbox"),o=a[0],c=a[1];e.a=o({mixins:[Object(s.a)({bem:c,role:"checkbox",parent:"vanCheckbox"})],computed:{checked:{get:function(){return this.parent?-1!==this.parent.value.indexOf(this.name):this.value},set:function(t){this.parent?this.setParentValue(t):this.$emit("input",t)}}},watch:{value:function(t){this.$emit("change",t)}},methods:{toggle:function(){var t=this,e=!this.checked;clearTimeout(this.toggleTask),this.toggleTask=setTimeout(function(){t.checked=e})},setParentValue:function(t){var e=this.parent,i=e.value.slice();if(t){if(e.max&&i.length>=e.max)return;-1===i.indexOf(this.name)&&(i.push(this.name),e.$emit("input",i))}else{var n=i.indexOf(this.name);-1!==n&&(i.splice(n,1),e.$emit("input",i))}}}})},"hy4/":function(t,e){},ivpH:function(t,e,i){t.exports=i.p+"static/img/noAddress.d76a1ce.png"},zjGD:function(t,e,i){"use strict";var n=i("o69Z"),s=i("1SJR"),a=Object(n.b)("checkbox-group"),o=a[0],c=a[1];e.a=o({mixins:[Object(s.b)("vanCheckbox")],props:{max:Number,disabled:Boolean,value:{type:Array,default:function(){return[]}}},watch:{value:function(t){this.$emit("change",t)}},render:function(){return(0,arguments[0])("div",{class:c()},[this.slots()])}})}});
//# sourceMappingURL=5.e8e3bf9a5edbb74bd73e.js.map